[[plugins]]
repo = 'prabirshrestha/vim-lsp'
if = "g:dot_deoplete"
on_ft = [
    'python',
    'go',
    'javascript',
    'javascript.jsx',
    'javascriptreact',
    'typescript',
    'typescript.tsx',
    'typescriptreact',
    'c',
    'cpp',
    'sql',
    'vue',
    'sql',
]
depends = [
    'deoplete-vim-lsp',
    'vista.vim',
    'vim-lsp-typescript',
    'vim-lsp-javascript',
]
hook_source = '''
    source ~/.vim/rc/plugins/lsp.rc.vim
'''

[[plugins]]
repo = 'ryanolsonx/vim-lsp-typescript'
on_ft = [
    'typescript',
    'typescript.tsx',
    'typescriptreact',
]

[[plugins]]
repo = 'ryanolsonx/vim-lsp-javascript'
on_ft = [
    'javascript',
    'javascript.jsx',
    'javascriptreact',
]

[[plugins]]
repo = 'lighttiger2505/deoplete-vim-lsp'
depends = ['deoplete.nvim']
hook_source = '''
    let g:deoplete#sources#vim_lsp#show_info = 1
'''

[[plugins]]
repo = 'lighttiger2505/sqls.vim'
on_ft = ['sql']
hook_add = '''
    augroup SqlsCommands
        autocmd!
        autocmd FileType sql nmap <silent><LocalLeader>rr <Plug>(sqls-execute-query)
        autocmd FileType sql vmap <silent><LocalLeader>rr <Plug>(sqls-execute-query)
        autocmd FileType sql nmap <silent><LocalLeader>rv <Plug>(sqls-execute-query-vertical)
        autocmd FileType sql vmap <silent><LocalLeader>rv <Plug>(sqls-execute-query-vertical)
        autocmd FileType sql nmap <silent><LocalLeader>sd <Plug>(sqls-switch-database)
        autocmd FileType sql nmap <silent><LocalLeader>sc <Plug>(sqls-switch-connection)
    augroup END
'''

[[plugins]]
repo = 'liuchengxu/vista.vim'
on_cmd = ['Vista']
hook_add = '''
    nnoremap <silent> <Leader>o :<C-u>Vista!!<CR>
    let g:vista_sidebar_width = 40
    let g:vista_echo_cursor = 0
    " let g:vista_executive_for = {
    "   \ 'go': 'lcn',
    "   \ 'python': 'lcn',
    "   \ }
'''

[[plugins]]
repo = 'neoclide/coc.nvim'
if = "!g:dot_deoplete"
on_ft = [
    'python',
    'go',
    'javascript',
    'javascript.jsx',
    'javascriptreact',
    'typescript',
    'typescript.tsx',
    'typescriptreact',
    'c',
    'cpp',
    'sql',
    'vue',
    'sql',
]
hook_source = '''
    source ~/.vim/rc/plugins/coc.rc.vim
'''
